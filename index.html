<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Emergent Vortex-Information Model (EVIM)</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- KaTeX for LaTeX rendering -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css" xintegrity="sha384-n8MVd4RsNIU0KOVEMVIhbTe8IoGCo+wDbepHgtQGHFNJsnSAl4A7eGuSlLnsYisB" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js" xintegrity="sha384-XjKyOOlGwcjNTAIQHIpgOno0Hl1YQqzUOEleOLALmuqehneUG+vnGctApiYcIesm" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js" xintegrity="sha384-+VBxd3r6XgURycqtZ117nYw44OOcIax56Z4dCRWbxyPt0Koah1uHoK0o4+/RRE05" crossorigin="anonymous"></script>
        
    <!-- Chart.js for interactive charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.2/dist/chart.umd.min.js"></script>
    
    <style>
        /* Base styles for dark mode */
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* slate-900 */
            color: #cbd5e1; /* slate-300 */
        }
        
        /* Styles for the hero section background canvas */
        #hero-section {
            position: relative;
            overflow: hidden;
            background: #0f172a;
        }
        #inkCanvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 0;
        }
        main {
            position: relative;
            z-index: 1;
        }

        .katex { font-size: 1.1em; color: #f1f5f9; } /* slate-100 */

        .section-title {
            font-size: 2.25rem; /* text-4xl */
            font-weight: 800; /* font-extrabold */
            color: #f8fafc; /* slate-50 */
            margin-bottom: 2rem;
            text-align: center;
        }
        .subsection-title {
            font-size: 1.5rem; /* text-2xl */
            font-weight: 700; /* font-bold */
            color: #f1f5f9; /* slate-100 */
            margin-bottom: 1rem;
            margin-top: 2.5rem;
        }
        .card {
            background-color: #1e293b; /* slate-800 */
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #334155; /* slate-700 */
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            transition: transform 0.3s ease-in-out, box-shadow 0.3s ease-in-out, border-color 0.3s ease-in-out;
        }
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.2), 0 4px 6px -4px rgb(0 0 0 / 0.2);
            border-color: #4f46e5; /* indigo-600 */
        }
        .nav-link {
            transition: color 0.2s;
        }
        .nav-link:hover {
            color: #a5b4fc; /* indigo-300 */
        }
        header {
            background-color: rgba(15, 23, 42, 0.8); /* slate-900 with transparency */
            backdrop-filter: blur(10px);
        }

        /* Animated SVG path for viscosity flow */
        .flow-path {
            stroke-dasharray: 10;
            animation: dash 1s linear infinite;
        }
        @keyframes dash {
            to {
                stroke-dashoffset: -20;
            }
        }
        #vortexCanvas {
            width: 100%;
            height: 100%;
            border-radius: 0.5rem; /* rounded-lg */
        }
    </style>
</head>
<body class="antialiased">

    <!-- Header & Navigation -->
    <header id="header" class="sticky top-0 z-50 border-b border-slate-800">
        <nav class="container mx-auto px-6 py-3 flex justify-between items-center">
            <div class="font-bold text-xl text-slate-100">EVIM</div>
            <div class="hidden md:flex space-x-6 items-center">
                <a href="#introduction" class="nav-link text-slate-300">Introduction</a>
                <a href="#foundations" class="nav-link text-slate-300">Foundations</a>
                <a href="#viscosity" class="nav-link text-slate-300">Viscosity</a>
                <a href="#validation" class="nav-link text-slate-300">Validation</a>
                <a href="#applications" class="nav-link text-slate-300">Applications</a>
            </div>
            <a href="#conclusion" class="hidden md:block bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-500 transition">Conclusion</a>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="hero-section">
        <canvas id="inkCanvas"></canvas>
        <main class="container mx-auto px-6 py-20 md:py-32 text-center">
            <h1 class="text-4xl md:text-6xl font-extrabold text-slate-50 leading-tight">
                The Emergent Vortex-Information Model
            </h1>
            <p class="mt-4 text-lg md:text-xl text-slate-300 max-w-4xl mx-auto">
                A Unified Mathematical Framework for Intelligence as Scale-Free Information Flow with Dynamic Viscosity.
            </p>
            <p class="mt-6 text-md text-slate-400">By Julien Pierre Salomon | July 16, 2025</p>
            <div class="mt-8">
                <a href="#introduction" class="bg-indigo-600 text-white px-8 py-3 rounded-lg font-semibold text-lg hover:bg-indigo-500 transition-all transform hover:scale-105 shadow-lg shadow-indigo-600/30">
                    Explore The Model
                </a>
            </div>
        </main>
    </section>

    <!-- Introduction Section -->
    <section id="introduction" class="py-16 md:py-24 bg-slate-900">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Introduction</h2>
            <div class="max-w-4xl mx-auto text-lg leading-relaxed">
                <p>Intelligence manifests across scales with remarkable persistence—from neural avalanches cascading through cortical networks to potentially cosmic information processing networks. Yet traditional approaches often isolate specific substrates, missing the fundamental relational flows that enable truly scale-free organisation. How do robust cognitive patterns emerge and persist in inherently chaotic systems?</p>
                <div class="my-8 p-6 bg-indigo-900/40 border-l-4 border-indigo-500 rounded-r-lg">
                    <h3 class="font-bold text-xl text-slate-100 mb-2">Core EVIM Hypothesis</h3>
                    <p class="text-slate-300">Intelligence emerges from persistent, scale-invariant patterns of information flow that maintain stability through vortex-like dynamics while adapting to environmental context via relational information viscosity.</p>
                </div>
                <p class="mt-4">Building on established foundations including vortex persistence in superfluids, integrated information theory, self-organised criticality, and hypergraph topologies, we propose the Emergent Vortex-Information Model (EVIM) as a unified mathematical framework.</p>
            </div>
        </div>
    </section>
    
    <!-- Foundations Section -->
    <section id="foundations" class="py-16 md:py-24">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Theoretical Foundations</h2>
            <div class="grid md:grid-cols-2 gap-8 max-w-6xl mx-auto mt-12">
                <div class="card">
                    <h3 class="subsection-title mt-0">Vortex Dynamics</h3>
                    <p>We begin with vortex dynamics, where quantized circulation provides a model for persistence. In Bose-Einstein condensates, circulation is quantized:</p>
                    <div class="my-4 text-center">$$ \oint v \cdot dl = n \frac{\hbar}{m} $$</div>
                    <p>We hypothesize that information flows in neural systems exhibit analogous persistent, self-reinforcing patterns.</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title mt-0">Integrated Information</h3>
                    <p>The second pillar is integrated information density ($\iota$), a measure of causal efficacy. Total integrated information is:</p>
                    <div class="my-4 text-center">$$ \Phi^{*} = \int_{V} \iota(x,t) dV $$</div>
                    <p>True intelligence involves irreducible integration of causes and effects, creating unified systems where the whole transcends its parts.</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title mt-0">Self-Organized Criticality</h3>
                    <p>Critical systems operate at the boundary between order and chaos, exhibiting power-law behaviours and optimal information processing. We hypothesize a critical threshold $\beta_c \approx 0.87$ where systems balance integration and efficiency.</p>
                </div>
                <div class="card">
                    <h3 class="subsection-title mt-0">Relational Topologies</h3>
                    <p>Complex systems are modeled as hypergraphs $H=(V,E)$ where hyperedges $E$ capture multi-way relationships. Unlike simple graphs, hypergraphs model how groups of neurons synchronize or ecosystems coordinate.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Information Viscosity Section -->
    <section id="viscosity" class="py-16 md:py-24 bg-slate-900">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Information Viscosity</h2>
            <div class="max-w-4xl mx-auto text-lg leading-relaxed">
                <p>We introduce information viscosity $\eta_{info}$ as a fundamental relational property governing how information encounters resistance as it flows through systems. It's defined as:</p>
                <div class="my-4 text-center">$$ \eta_{info} = \eta_{0} \cdot f(T_{env}, P_{env}, C_{context}, ...) $$</div>
                <p>This allows for non-Newtonian information flow, where viscosity can change based on cognitive load (shear-thinning/thickening). This concept helps define the Information Reynolds number to classify flow regimes:</p>
                 <div class="my-4 text-center">$$ Re_{info} = \frac{vL}{\eta_{info}} $$</div>
            </div>
            <div class="card max-w-3xl mx-auto mt-12">
                <h3 class="text-center font-bold text-lg mb-4 text-slate-100">Viscosity Channels Information Flow</h3>
                <div class="relative h-48 bg-slate-900 rounded-lg p-4">
                    <!-- Background Grid -->
                    <svg width="100%" height="100%" class="absolute top-0 left-0">
                        <defs>
                            <pattern id="grid" width="40" height="40" patternUnits="userSpaceOnUse">
                                <path d="M 40 0 L 0 0 0 40" fill="none" stroke="#334155" stroke-width="0.5"/>
                            </pattern>
                        </defs>
                        <rect width="100%" height="100%" fill="url(#grid)" />
                    </svg>
                    <!-- Animated Paths -->
                    <svg class="absolute top-0 left-0 w-full h-full" viewBox="0 0 300 100" preserveAspectRatio="none">
                        <path class="flow-path" d="M 50,30 C 100,5, 200,55, 250,40" stroke="#f87171" stroke-width="2.5" fill="none" />
                        <text x="255" y="38" fill="#f87171" font-size="8" font-weight="bold">High $\eta_{info}$</text>
                        
                        <path class="flow-path" d="M 50,70 C 100,85, 200,55, 250,65" stroke="#4ade80" stroke-width="2.5" fill="none" style="animation-duration: 0.8s;"/>
                        <text x="255" y="73" fill="#4ade80" font-size="8" font-weight="bold">Low $\eta_{info}$</text>
                    </svg>
                </div>
                 <p class="text-center mt-4 text-slate-400">High-viscosity regions (red) provide stability while low-viscosity channels (green) enable rapid exploration.</p>
            </div>
        </div>
    </section>
    
    <!-- Empirical Validation Section -->
    <section id="validation" class="py-16 md:py-24">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Comprehensive Empirical Validation</h2>
            <p class="text-center max-w-3xl mx-auto text-lg">Our theoretical framework receives strong support from multiple computational experiments demonstrating key predictions.</p>
            
            <div class="grid lg:grid-cols-2 gap-12 mt-12">
                <div class="card">
                    <h3 class="subsection-title mt-0">Neural Network Regularization</h3>
                    <p class="mb-4">The EVIM functional was used to regularize a ResNet-18 network, successfully inducing a 4x increase in sparsity with only a 2.6% drop in accuracy. The chart below shows the trade-off.</p>
                    <canvas id="sensitivityChart"></canvas>
                </div>
                <div class="card">
                    <h3 class="subsection-title mt-0">Critical Validation: Scaling</h3>
                    <p class="mb-4">Power spectral analysis of information density fields confirmed theoretical scaling predictions with remarkable precision. The model predicted $\alpha \approx 0.4$ for 1D systems, and our experiment found $\alpha = 0.39 \pm 0.05$.</p>
                    <canvas id="scalingChart"></canvas>
                </div>
            </div>
             <div class="card mt-12">
                <h3 class="subsection-title mt-0 text-center">2D Vortex Formation and Interaction</h3>
                <p class="text-center max-w-3xl mx-auto mb-6">2D simulations revealed spontaneous vortex formation, collision, and merger into coherent filaments, confirming dynamic equilibrium. This interactive canvas demonstrates the principle.</p>
                <div class="bg-slate-900 p-2 rounded-lg aspect-video">
                    <canvas id="vortexCanvas"></canvas>
                </div>
                <p class="text-xs text-center mt-2 text-slate-500">An interactive canvas simulation of a particle field driven by Perlin noise, illustrating information vortices.</p>
            </div>

            <!-- New Transformer Section -->
            <div class="card mt-12">
                <h3 class="subsection-title mt-0 text-center">Transformer Model Analysis</h3>
                <p class="text-center max-w-4xl mx-auto mb-8">Extending the validation to Transformer architectures reveals that EVIM's principles hold, offering insights into the internal dynamics of attention mechanisms and pathways for optimisation.</p>
                
                <h4 class="subsection-title text-xl text-center">Vorticity and Information Flow Across Layers</h4>
                <div class="grid md:grid-cols-2 gap-8 mb-8">
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-slate-700">
                        <canvas id="avgVorticityChart"></canvas>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-slate-700">
                        <canvas id="maxVorticityChart"></canvas>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-slate-700">
                        <canvas id="circulationChart"></canvas>
                    </div>
                    <div class="bg-slate-900/50 p-4 rounded-lg border border-slate-700">
                        <canvas id="infoDensityChart"></canvas>
                    </div>
                </div>

                <h4 class="subsection-title text-xl text-center">Attention Head Vorticity and Pruning</h4>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <p class="text-center mb-2">Vorticity analysis of individual attention heads in a Transformer layer shows how some heads specialize into stable, high-circulation patterns, acting as informational anchors.</p>
                        <img src="https://placehold.co/600x400/1e293b/94a3b8/?text=Vorticity+Analysis+of+12+Attention+Heads" alt="Vorticity analysis of attention heads" class="rounded-lg mx-auto border border-slate-700">
                    </div>
                    <div>
                        <p class="text-center mb-2">Applying EVIM-based pruning selectively removes low-vorticity, less influential attention patterns, increasing efficiency while preserving the model's core informational pathways.</p>
                        <img src="https://placehold.co/600x400/1e293b/94a3b8/?text=Attention+Patterns+Across+6+Layers" alt="Attention pattern pruning" class="rounded-lg mx-auto border border-slate-700">
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Applications Section -->
    <section id="applications" class="py-16 md:py-24 bg-slate-900">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Applications & Competitive Positioning</h2>
            <div class="grid lg:grid-cols-2 gap-12 mt-12 items-start">
                <div class="card">
                    <h3 class="subsection-title mt-0">AI Optimisation Applications</h3>
                    <ul class="list-disc list-inside space-y-2 text-lg">
                        <li><span class="font-semibold text-indigo-300">Energy efficiency:</span> 30-50% reduction in computational requirements.</li>
                        <li><span class="font-semibold text-indigo-300">Robustness:</span> Enhanced generalisation through sparsity-induced regularisation.</li>
                        <li><span class="font-semibold text-indigo-300">Adaptability:</span> Dynamic viscosity enables context-responsive processing.</li>
                    </ul>
                </div>
                <div class="card">
                    <h3 class="subsection-title mt-0">Comparison with Free Energy Principle</h3>
                     <p>EVIM complements Friston's Free Energy Principle (FEP) by providing mechanistic details for physical implementation.</p>
                     <div class="overflow-x-auto mt-4">
                        <table class="w-full text-left border-collapse">
                            <thead>
                                <tr>
                                    <th class="border-b-2 border-slate-600 p-2 bg-slate-700">Aspect</th>
                                    <th class="border-b-2 border-slate-600 p-2 bg-slate-700">EVIM</th>
                                    <th class="border-b-2 border-slate-600 p-2 bg-slate-700">FEP</th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td class="border-b border-slate-700 p-2 font-semibold">Core Mechanism</td>
                                    <td class="border-b border-slate-700 p-2">Information vortices</td>
                                    <td class="border-b border-slate-700 p-2">Free energy minimization</td>
                                </tr>
                                 <tr>
                                    <td class="border-b border-slate-700 p-2 font-semibold">Focus</td>
                                    <td class="border-b border-slate-700 p-2">Physical flow persistence</td>
                                    <td class="border-b border-slate-700 p-2">Bayesian surprise minimization</td>
                                </tr>
                                <tr>
                                    <td class="border-b border-slate-700 p-2 font-semibold">Coupling</td>
                                    <td class="border-b border-slate-700 p-2">Dynamic viscosity</td>
                                    <td class="border-b border-slate-700 p-2">Active inference</td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
            <div class="card mt-12">
                <h3 class="subsection-title mt-0">Performance vs. Complexity: GAT vs. Hyper-Attention</h3>
                <p class="mb-4">Benchmarking against Graph Attention Networks (GAT) shows EVIM-inspired Hyper-Attention networks achieve superior performance with dramatically fewer parameters.</p>
                <div class="grid md:grid-cols-2 gap-8">
                    <div>
                        <h4 class="text-center font-bold mb-2 text-slate-200">Predictive Accuracy (Lower is Better)</h4>
                        <canvas id="accuracyComparisonChart"></canvas>
                    </div>
                    <div>
                        <h4 class="text-center font-bold mb-2 text-slate-200">Model Complexity (Parameters)</h4>
                        <canvas id="complexityComparisonChart"></canvas>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Conclusion Section -->
    <section id="conclusion" class="py-16 md:py-24">
        <div class="container mx-auto px-6">
            <h2 class="section-title">Conclusion</h2>
            <div class="max-w-4xl mx-auto text-lg leading-relaxed space-y-6">
                <p>We have presented the Emergent Vortex-Information Model as a comprehensive mathematical framework for understanding intelligence as a universal emergent phenomenon. The integration of information viscosity as an environmental coupling mechanism addresses a crucial gap in existing theories.</p>
                <div class="card !p-8 bg-indigo-600 text-indigo-100 border-indigo-500">
                    <h3 class="font-bold text-xl text-white mb-4">Key Contributions</h3>
                    <ul class="list-disc list-inside space-y-2">
                        <li>Mathematical unification of vortex persistence, information integration, and criticality.</li>
                        <li>Introduction of information viscosity as environmental coupling mechanism.</li>
                        <li>Comprehensive empirical validation across multiple domains.</li>
                        <li>Clear falsification pathways and practical applications.</li>
                        <li>Extension of intelligence concepts beyond biological substrates.</li>
                    </ul>
                </div>
                <p>The work presented here positions EVIM as a testable, actionable framework ready for further challenge, refinement, and application in the ongoing quest to understand the universal nature of intelligence.</p>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="bg-slate-900 border-t border-slate-800">
        <div class="container mx-auto px-6 py-8 text-center text-slate-400">
            <p>&copy; 2025 Julien Pierre Salomon. All Rights Reserved.</p>
            <p class="text-sm mt-2">Website created to dynamically present the Emergent Vortex-Information Model.</p>
        </div>
    </footer>

<script>
document.addEventListener('DOMContentLoaded', function () {
    // KaTeX auto-rendering
    if (typeof renderMathInElement === 'function') {
        renderMathInElement(document.body, {
            delimiters: [
                {left: '$$', right: '$$', display: true},
                {left: '$', right: '$', display: false},
            ]
        });
    }

    // --- Chart.js Dark Mode Configuration ---
    const chartTextColor = '#cbd5e1'; // slate-300
    const chartGridColor = '#334155'; // slate-700
    
    // Chart 1: Sensitivity Analysis
    const sensitivityCtx = document.getElementById('sensitivityChart');
    if (sensitivityCtx) {
        new Chart(sensitivityCtx, {
            type: 'line',
            data: {
                labels: ['0.0', '0.1', '0.3', '0.5', '0.8', '1.0'],
                datasets: [{
                    label: 'Validation Accuracy (%)',
                    data: [76.3, 75.8, 75.85, 75.9, 74.5, 76.0],
                    borderColor: '#818cf8', // indigo-400
                    backgroundColor: 'rgba(129, 140, 248, 0.2)',
                    yAxisID: 'y',
                    tension: 0.1,
                    fill: true,
                }, {
                    label: 'Sparsity (%)',
                    data: [84, 89, 93, 94, 85, 96],
                    borderColor: '#f472b6', // pink-400
                    backgroundColor: 'rgba(244, 114, 182, 0.2)',
                    borderDash: [5, 5],
                    yAxisID: 'y1',
                    tension: 0.1,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                interaction: { mode: 'index', intersect: false },
                plugins: {
                    title: { display: true, text: 'Accuracy vs. Sparsity Trade-off', color: chartTextColor },
                    legend: { labels: { color: chartTextColor } },
                    tooltip: {
                        titleColor: '#f1f5f9', bodyColor: '#cbd5e1',
                        backgroundColor: '#1e293b', borderColor: '#334155', borderWidth: 1,
                    }
                },
                scales: {
                    x: { 
                        title: { display: true, text: 'β_max Value', color: chartTextColor },
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    },
                    y: {
                        type: 'linear', display: true, position: 'left',
                        title: { display: true, text: 'Validation Accuracy (%)', color: chartTextColor },
                        min: 74, max: 77,
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    },
                    y1: {
                        type: 'linear', display: true, position: 'right',
                        title: { display: true, text: 'Sparsity (%)', color: chartTextColor },
                        min: 80, max: 100,
                        ticks: { color: chartTextColor },
                        grid: { drawOnChartArea: false }
                    }
                }
            }
        });
    }

    // Chart 2: Scaling Exponent
    const scalingCtx = document.getElementById('scalingChart');
    if (scalingCtx) {
        const scatterData = Array.from({length: 100}, () => {
            const k = Math.pow(10, -2 + Math.random() * 3);
            const p_k_base = Math.pow(k, -0.39);
            const noise = (Math.random() - 0.5) * p_k_base * 5;
            return {x: k, y: p_k_base + noise};
        }).sort((a,b) => a.x - b.x);
        
        const fitData = [{x: 0.01, y: Math.pow(0.01, -0.39)}, {x: 10, y: Math.pow(10, -0.39)}];

        new Chart(scalingCtx, {
            type: 'scatter',
            data: {
                datasets: [{
                    label: 'Power Spectrum Data',
                    data: scatterData,
                    backgroundColor: 'rgba(96, 165, 250, 0.6)', // blue-400
                }, {
                    label: 'Power-Law Fit (α=0.39)',
                    data: fitData,
                    type: 'line',
                    borderColor: '#f87171', // red-400
                    borderWidth: 2,
                    fill: false,
                    pointRadius: 0,
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    title: { display: true, text: 'Extracting Scaling Exponent α (Log-Log Scale)', color: chartTextColor },
                    legend: { labels: { color: chartTextColor } },
                    tooltip: {
                        titleColor: '#f1f5f9', bodyColor: '#cbd5e1',
                        backgroundColor: '#1e293b', borderColor: '#334155', borderWidth: 1,
                    }
                },
                scales: {
                    x: {
                        type: 'logarithmic',
                        title: { display: true, text: 'Frequency (k)', color: chartTextColor },
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    },
                    y: {
                        type: 'logarithmic',
                        title: { display: true, text: 'Power P(k)', color: chartTextColor },
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    }
                }
            }
        });
    }

    // Charts 3 & 4: GAT vs Hyper-Attention Comparison
    const accuracyComparisonCtx = document.getElementById('accuracyComparisonChart');
    if (accuracyComparisonCtx) {
        new Chart(accuracyComparisonCtx, {
            type: 'bar',
            data: {
                labels: ['GAT Baseline', 'Hyper-Attention'],
                datasets: [{
                    label: 'Best Validation MAE',
                    data: [383.44, 812.75],
                    backgroundColor: ['#38bdf8', '#fb923c'], // sky-400, orange-400
                    borderColor: ['#0ea5e9', '#f97316'],
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                plugins: { legend: { display: false } },
                scales: {
                    x: {
                        title: { display: true, text: 'MAE (Lower is Better)', color: chartTextColor },
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    },
                    y: { ticks: { color: chartTextColor }, grid: { color: chartGridColor } }
                }
            }
        });
    }

    const complexityComparisonCtx = document.getElementById('complexityComparisonChart');
    if (complexityComparisonCtx) {
        new Chart(complexityComparisonCtx, {
            type: 'bar',
            data: {
                labels: ['GAT Baseline', 'Hyper-Attention'],
                datasets: [{
                    label: 'Number of Parameters',
                    data: [269825, 34113],
                    backgroundColor: ['#4ade80', '#facc15'], // green-400, yellow-400
                    borderColor: ['#22c55e', '#eab308'],
                    borderWidth: 1
                }]
            },
            options: {
                indexAxis: 'y',
                responsive: true,
                plugins: { legend: { display: false } },
                scales: {
                    x: {
                        type: 'logarithmic',
                        title: { display: true, text: 'Parameters (log scale)', color: chartTextColor },
                        ticks: { color: chartTextColor },
                        grid: { color: chartGridColor }
                    },
                    y: { ticks: { color: chartTextColor }, grid: { color: chartGridColor } }
                }
            }
        });
    }

    // --- New Transformer Charts ---
    const transformerChartOptions = {
        responsive: true,
        maintainAspectRatio: false,
        plugins: {
            legend: { display: false },
            tooltip: {
                titleColor: '#f1f5f9', bodyColor: '#cbd5e1',
                backgroundColor: '#1e293b', borderColor: '#334155', borderWidth: 1,
            }
        },
        scales: {
            x: { 
                title: { display: true, text: 'Layer', color: chartTextColor },
                ticks: { color: chartTextColor },
                grid: { color: chartGridColor }
            },
            y: {
                ticks: { color: chartTextColor },
                grid: { color: chartGridColor }
            }
        }
    };

    const avgVorticityCtx = document.getElementById('avgVorticityChart');
    if(avgVorticityCtx) {
        new Chart(avgVorticityCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 12}, (_, i) => `L${i}`),
                datasets: [{
                    data: [0.035, 0.06, 0.07, 0.08, 0.105, 0.125, 0.122, 0.118, 0.125, 0.105, 0.12, 0.125],
                    borderColor: '#60a5fa', // blue-400
                    backgroundColor: 'rgba(96, 165, 250, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {...transformerChartOptions, plugins: {...transformerChartOptions.plugins, title: {display: true, text: 'Average Vorticity Evolution', color: chartTextColor}}}
        });
    }

    const maxVorticityCtx = document.getElementById('maxVorticityChart');
    if(maxVorticityCtx) {
        new Chart(maxVorticityCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 11}, (_, i) => `L${i}`),
                datasets: [{
                    data: [0.18, 0.4, 0.59, 0.62, 0.75, 0.74, 0.6, 0.75, 0.72, 0.68, 0.75],
                    borderColor: '#f472b6', // pink-400
                    backgroundColor: 'rgba(244, 114, 182, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {...transformerChartOptions, plugins: {...transformerChartOptions.plugins, title: {display: true, text: 'Maximum Vorticity Evolution', color: chartTextColor}}}
        });
    }

    const circulationCtx = document.getElementById('circulationChart');
    if(circulationCtx) {
        new Chart(circulationCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 11}, (_, i) => `L${i}`),
                datasets: [{
                    data: [1.4, 0.75, 2.5, 1.7, 1.1, 1.0, 1.3, 0.9, 0.75, 0.75, 0.65],
                    borderColor: '#4ade80', // green-400
                    backgroundColor: 'rgba(74, 222, 128, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {...transformerChartOptions, plugins: {...transformerChartOptions.plugins, title: {display: true, text: 'Circulation Evolution', color: chartTextColor}}}
        });
    }

    const infoDensityCtx = document.getElementById('infoDensityChart');
    if(infoDensityCtx) {
        new Chart(infoDensityCtx, {
            type: 'line',
            data: {
                labels: Array.from({length: 12}, (_, i) => `L${i}`),
                datasets: [{
                    data: [2.0, 1.5, 1.52, 1.75, 1.4, 1.2, 1.22, 1.35, 1.22, 1.5, 1.3, 1.15],
                    borderColor: '#fbbf24', // amber-400
                    backgroundColor: 'rgba(251, 191, 36, 0.2)',
                    fill: true,
                    tension: 0.3
                }]
            },
            options: {...transformerChartOptions, plugins: {...transformerChartOptions.plugins, title: {display: true, text: 'Information Density Evolution', color: chartTextColor}}}
        });
    }

    // --- Perlin Noise Function ---
    const noise = (() => {
        const p = new Uint8Array(512);
        for (let i = 0; i < 256; i++) p[i] = p[i + 256] = Math.floor(Math.random() * 256);
        const fade = t => t * t * t * (t * (t * 6 - 15) + 10);
        const lerp = (t, a, b) => a + t * (b - a);
        const grad = (hash, x, y) => {
            const h = hash & 15;
            const u = h < 8 ? x : y;
            const v = h < 4 ? y : h === 12 || h === 14 ? x : 0;
            return ((h & 1) === 0 ? u : -u) + ((h & 2) === 0 ? v : -v);
        };
        return (x, y, z) => {
            const X = Math.floor(x) & 255, Y = Math.floor(y) & 255, Z = Math.floor(z) & 255;
            x -= Math.floor(x); y -= Math.floor(y); z -= Math.floor(z);
            const u = fade(x), v = fade(y), w = fade(z);
            const A = p[X] + Y, AA = p[A] + Z, AB = p[A + 1] + Z,
                  B = p[X + 1] + Y, BA = p[B] + Z, BB = p[B + 1] + Z;
            return lerp(w, lerp(v, lerp(u, grad(p[AA], x, y, z), grad(p[BA], x - 1, y, z)),
                                  lerp(u, grad(p[AB], x, y - 1, z), grad(p[BB], x - 1, y - 1, z))),
                           lerp(v, lerp(u, grad(p[AA + 1], x, y, z - 1), grad(p[BA + 1], x - 1, y, z - 1)),
                                  lerp(u, grad(p[AB + 1], x, y - 1, z - 1), grad(p[BB + 1], x - 1, y - 1, z - 1))));
        };
    })();

    // --- Abstract Particle Simulation Class ---
    class ParticleSimulation {
        constructor(canvasId, particleOptions) {
            this.canvas = document.getElementById(canvasId);
            if (!this.canvas) return;
            this.ctx = this.canvas.getContext('2d');
            this.particleOptions = particleOptions;
            this.animationFrameId = null;
            this.particles = [];
            this.time = Math.random() * 1000;

            const observer = new IntersectionObserver((entries) => {
                if (entries[0].isIntersecting) {
                    this.start();
                } else {
                    this.stop();
                }
            }, { threshold: 0.01 });
            observer.observe(this.canvas);
            
            window.addEventListener('resize', this.debounce(this.init.bind(this), 200));
        }

        debounce(func, delay) {
            let timeout;
            return (...args) => {
                clearTimeout(timeout);
                timeout = setTimeout(() => func.apply(this, args), delay);
            };
        }

        init() {
            if (!this.canvas) return;
            const container = this.canvas.parentElement;
            this.width = container.clientWidth;
            this.height = container.clientHeight;
            this.canvas.width = this.width;
            this.canvas.height = this.height;
            
            this.particles = [];
            const numParticles = Math.min(Math.floor(this.width * this.height / this.particleOptions.density), this.particleOptions.maxParticles);
            for (let i = 0; i < numParticles; i++) {
                this.particles.push(new this.particleOptions.ParticleClass(this.width, this.height, this.particleOptions.colors));
            }
        }

        animate() {
            this.particleOptions.drawBackground(this.ctx, this.width, this.height);
            this.time += this.particleOptions.timeStep;

            this.particles.forEach(p => {
                p.update(this.particleOptions.noiseScale, this.particleOptions.speed, this.time, noise);
                p.draw(this.ctx);
            });

            this.animationFrameId = requestAnimationFrame(this.animate.bind(this));
        }

        start() {
            if (!this.animationFrameId) {
                this.init();
                this.animate();
            }
        }

        stop() {
            if (this.animationFrameId) {
                cancelAnimationFrame(this.animationFrameId);
                this.animationFrameId = null;
            }
        }
    }

    // --- Particle Classes ---
    class VortexParticle {
        constructor(width, height) {
            this.width = width;
            this.height = height;
            this.reset();
        }
        reset() {
            this.x = Math.random() * this.width;
            this.y = Math.random() * this.height;
            this.life = Math.random() * 100 + 50;
        }
        update(noiseScale, speed, time, noiseFn) {
            const angle = noiseFn(this.x * noiseScale, this.y * noiseScale, time) * Math.PI * 2;
            this.x += Math.cos(angle) * speed;
            this.y += Math.sin(angle) * speed;
            this.life--;
            if (this.x > this.width || this.x < 0 || this.y > this.height || this.y < 0 || this.life <= 0) {
                this.reset();
            }
        }
        draw(ctx) {
            const hue = (this.x / this.width) * 100 + 180;
            ctx.fillStyle = `hsla(${hue}, 80%, 60%, 0.7)`;
            ctx.fillRect(this.x, this.y, 1.5, 1.5);
        }
    }

    class InkParticle {
        constructor(width, height, colors) {
            this.width = width;
            this.height = height;
            this.colors = colors;
            this.reset();
        }
        reset() {
            this.x = Math.random() * this.width;
            this.y = Math.random() * this.height;
            this.vx = 0;
            this.vy = 0;
            this.color = this.colors[Math.floor(Math.random() * this.colors.length)];
        }
        update(noiseScale, speed, time, noiseFn) {
            const angle = noiseFn(this.x * noiseScale, this.y * noiseScale, time) * Math.PI * 4;
            this.vx = (this.vx * 0.95) + (Math.cos(angle) * speed);
            this.vy = (this.vy * 0.95) + (Math.sin(angle) * speed);
            this.x += this.vx;
            this.y += this.vy;
            if (this.x > this.width || this.x < 0 || this.y > this.height || this.y < 0) {
                this.reset();
            }
        }
        draw(ctx) {
            ctx.fillStyle = this.color;
            ctx.beginPath();
            ctx.arc(this.x, this.y, Math.abs(this.vx) + Math.abs(this.vy) + 1, 0, Math.PI * 2);
            ctx.fill();
        }
    }

    // --- Initialize Simulations ---
    new ParticleSimulation('inkCanvas', {
        ParticleClass: InkParticle,
        density: 2500,
        maxParticles: 800,
        noiseScale: 0.002,
        speed: 0.1,
        timeStep: 0.002,
        colors: ['hsla(210, 50%, 80%, 0.04)', 'hsla(200, 50%, 80%, 0.03)'],
        drawBackground: (ctx, w, h) => {
            ctx.fillStyle = 'rgba(15, 23, 42, 0.1)';
            ctx.fillRect(0, 0, w, h);
        }
    });

    new ParticleSimulation('vortexCanvas', {
        ParticleClass: VortexParticle,
        density: 800,
        maxParticles: 2000,
        noiseScale: 0.005,
        speed: 1,
        timeStep: 0.005,
        drawBackground: (ctx, w, h) => {
            ctx.fillStyle = 'rgba(15, 23, 42, 0.1)';
            ctx.fillRect(0, 0, w, h);
        }
    });
});
</script>

</body>
</html>
